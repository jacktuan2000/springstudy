<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:task="http://www.springframework.org/schema/task"
	xmlns:cache="http://www.springframework.org/schema/cache"
	xmlns:rabbit="http://www.springframework.org/schema/rabbit"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:jee="http://www.springframework.org/schema/jee"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xsi:schemaLocation="http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.1.xsd
		http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
		http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
		http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache-3.1.xsd
		http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
		http://www.springframework.org/schema/rabbit http://www.springframework.org/schema/rabbit/spring-rabbit-1.0.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
		http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd">
	
		<!-- xml aop  配置文件拦截 -->
        <bean id="memberPointAdvisor"       
            class="com.ycnet.belink.service.memberpoint.MemberPointAdvisor"/>
            
        <aop:config>     
             <aop:aspect ref="memberPointAdvisor">
                 
                 <!-- 用户登录 -->
                 <aop:pointcut id="userLogin" expression="execution(* com.ycnet.belink.service.UserService.userLogin(..))"/>    
                 <aop:before pointcut-ref="userLogin" method="userLogin"/>
                 
                 <!-- 企业申批通过个人申请成为企业成员的请求 -->
                 <aop:pointcut id="passJoin" expression="execution(* com.ycnet.belink.service.common.relation.EntMemberRelation.createJoin(..))"/>    
                 <aop:before pointcut-ref="passJoin" method="passJoin"/>
                 
                 
                 <!-- 个人申批通过企业邀请成为企业成员的请求 -->
                 <aop:pointcut id="passInvite" expression="execution(* com.ycnet.belink.service.common.relation.EntMemberRelation.createInvite(..))"/>    
                 <aop:before pointcut-ref="passInvite" method="passInvite"/>
                 
                 
                 <!-- 取消企业成员关系 -->
                 <aop:pointcut id="cancelEntMember" expression="execution(* com.ycnet.belink.core.community.relation.Relation.dismiss(..))"/>    
                 <aop:before pointcut-ref="cancelEntMember" method="cancelEntMember"/>
                  
				 <!-- 举报   用户   商圈  话题  回复-->
                 <aop:pointcut id="inform" expression="execution(* com.ycnet.belink.core.community.inform.InformApplyProcessor.process(..))"/>    
                 <aop:before pointcut-ref="inform" method="inform"/>
                 
                 <!-- 产品发布 -->
                 <aop:pointcut id="publishProduct" expression="execution(* com.ycnet.belink.core.community.approve.ApproveApplyProcessor.processBusiness(..))"/>    
                 <aop:before pointcut-ref="publishProduct" method="publishProduct"/>
                 
                 <!-- 用户添加应用 -->
                 <aop:pointcut id="appendApp" expression="execution(* com.ycnet.belink.service.app.AppForUserService.addAppToUser(..))"/>    
                 <aop:before pointcut-ref="appendApp" method="appendApp"/>
                 
                 <!-- 绑定企业网盾 -->
                 <aop:pointcut id="bind" expression="execution(* com.ycnet.belink.repository.Repository.create(..))"/>    
                 <aop:before pointcut-ref="bind" method="bind"/>
                 
                 <!-- 补充审核信息 -->
                 <aop:pointcut id="fullfill" expression="execution(* com.ycnet.belink.service.UserService.updateUserPass(..))"/>    
                 <aop:before pointcut-ref="fullfill" method="fullfill"/>
                 
                 <!-- 成功注册 -->
                 <aop:pointcut id="regist" expression="execution(* com.ycnet.belink.service.memberpoint.MemberPointService.registSuccess(..))"/>    
                 <aop:before pointcut-ref="regist" method="regist"/>
                 
                 
                 <!-- E商百科-创建词条 -->
                 <aop:pointcut id="docCreate" expression="execution(* com.ycnet.belink.service.doc.DocService.approveDocCreate(..))"/>    
                 <aop:before pointcut-ref="docCreate" method="docCreate"/>
                 
                 <!-- E商百科-编辑词条 -->
                 <aop:pointcut id="docModify" expression="execution(* com.ycnet.belink.service.doc.DocService.approveDocEdit(..))"/>    
                 <aop:before pointcut-ref="docModify" method="docModify"/>
                 
                 <!-- 话题-发布话题 -->
                 <aop:pointcut id="publishEvent" expression="execution(* com.ycnet.belink.service.businesscircle.EventService.publishEvent(..))"/>    
                 <aop:before pointcut-ref="publishEvent" method="publishEvent"/>
                 
                 <!-- 话题-回复话题 -->
                 <aop:pointcut id="replyEvent" expression="execution(* com.ycnet.belink.service.businesscircle.EventService.publisReply(..))"/>    
                 <aop:before pointcut-ref="replyEvent" method="replyEvent"/>
                 
                 <!-- 商圈-设为商圈管理员 -->
                 <aop:pointcut id="manageMember" expression="execution(* com.ycnet.belink.service.businesscircle.MemberService.manageMember(..))"/>    
                 <aop:before pointcut-ref="manageMember" method="manageMember"/>
                 
                 <!-- 商圈-设为商圈管理员 -->
                 <aop:pointcut id="groupAnnouncement" expression="execution(* com.ycnet.belink.service.SystemAnnouncementService.createGroupAnnouncement(..))"/>    
                 <aop:before pointcut-ref="groupAnnouncement" method="groupAnnouncement"/>
                 
                 <!-- 商圈-创建商圈 -->
                 <aop:pointcut id="activeCircle" expression="execution(* com.ycnet.belink.service.businesscircle.CircleService.activeCircle(..))"/>    
                 <aop:before pointcut-ref="activeCircle" method="activeCircle"/>
                 
                 <!-- 商圈-解散商圈 -->
                 <aop:pointcut id="dismissCircle" expression="execution(* com.ycnet.belink.service.businesscircle.CircleService.dismissCircle(..))"/>    
                 <aop:before pointcut-ref="dismissCircle" method="dismissCircle"/>
                 
                 <!-- 商圈-加入商圈 -->
                 <aop:pointcut id="joinCircle" expression="execution(* com.ycnet.belink.service.businesscircle.MemberService.create(..))"/>    
                 <aop:before pointcut-ref="joinCircle" method="joinCircle"/>
                 
                 <!--发送私信 -->
                 <aop:pointcut id="publishLetter" expression="execution(* com.ycnet.belink.service.businesscircle.EventService.publishLetter(..))"/>    
                 <aop:before pointcut-ref="publishLetter" method="publishLetter"/>
                 <!-- 在此添加后续的 pointcut 以及 before 标签设置 -->
             </aop:aspect>  
         </aop:config>    
	
</beans>
